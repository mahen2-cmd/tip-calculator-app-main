<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">

  <title>Frontend Mentor | Tip calculator app</title>

  <!-- Feel free to remove these styles or customize in your own stylesheet 👍 -->
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>


  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css">



   <script>
      // Define a global variable
      let bill = 0;
      let number_of_people = 0;
      let tip = 0;
    </script>


</head>
<body>

  <div class="item-container">


    <div class="center-container">

      <div style="font-size: 20px;">S P L I</div>
      <!-- <br> -->

      <div style="font-size: 20px">T T E R</div>
      <!-- TTER -->
    </div>
    <br>
    <br>
    <br>
    <br>


    <div class="container">


    <div class="section1">

      <div style="color: hsl(183, 100%, 15%)">Bill</div>



      <!-- <div class="form-container"> -->
        <!-- <div class="box"> -->


          <input type="number" id="bill" placeholder="$" onchange="handleChangeBill()">



          <script>
            function handleChangeBill() {
              const inputField = document.getElementById('bill');
              console.log(`Bill value changed to: ${inputField.value}`);

              bill = inputField.value;

              changeCalculations();
            }
	        </script>
          <!-- </div> -->

          <br>
          <br>
          <div style="color: hsl(183, 100%, 15%)">Select Tip %</div>


          <br>
          <div class="form-container">

            <div class="button-container">
            <button class="button" onclick="changeTip(0.05)">5%</button>
            <button class="button" onclick="changeTip(0.10)">10%</button>
            <button class="button" onclick="changeTip(0.15)">15%</button>
          </div>

          <!-- <br> -->

          <div class="button-container">

            <button class="button" onclick="changeTip(0.25)"">25%</button>
            <button class="button" onclick="changeTip(0.50)"">50%</button>
            <button class="button" style="background-color: hsl(189, 41%, 97%); color:  hsl(183, 100%, 15%)">Custom</button>
          </div>



          <script>
            function changeTip(number) {
              console.log(`Tip changed to ${number}`);
              tip = number;

              changeCalculations();
            }
          </script>


        </div>



        <script>
          const buttons = document.querySelectorAll(".button");
          let selectedButton = null;

          buttons.forEach((button) => {
            button.addEventListener("click", function() {
              if (selectedButton) {
                selectedButton.classList.remove("highlight");
              }
              button.classList.add("highlight");
              selectedButton = button;
            });
          });


          </script>

<br>
<!-- <br> -->
<div style="color: hsl(183, 100%, 15%)">Number of People</div>
      <!-- <div class="box"> -->
        <!-- <input type="number" > -->



        <input type="number" id="number_of_people" onchange="handleChangePeople()">


        <script>
          function handleChangePeople() {
            const inputField = document.getElementById('number_of_people');
            console.log(`Number of People value changed to: ${inputField.value}`);

            number_of_people = inputField.value;

            changeCalculations();
          }
        </script>
        <!-- </div> -->
    <!-- </div> -->










    </div>


    <div class="section2">
      <!-- <br> -->
      <div class="square">

        <div class="text-container">

          <br>
          <br>

          <div class="tip-container">
            <div>


              <div style="color: white; font-size: 12px;">Tip Amount</div>
              <div style="color: hsl(185, 41%, 84%); font-size: 10px">/ person</div>
            </div>


            <div id="tip-amount" style="color: hsl(172, 67%, 45%); font-size: 30px;">$0.00</div>
          </div>


          <br>
          <!-- <br> -->

          <div class="tip-container">

            <div>

            <div style="color: white; font-size: 12px;">Total</div>
            <div style="color: hsl(185, 41%, 84%); font-size: 10px">/ person</div>

            </div>
            <div id="total" style="color: hsl(172, 67%, 45%);font-size: 30px;">$0.00</div>
          </div>


        </div>


        <script>
          function changeCalculations() {
            const tip_amount = document.getElementById('tip-amount');
            const total = document.getElementById('total');
            const people = number_of_people
            let newTip = (bill * tip )/ number_of_people;
            let newTotal = ( parseInt(bill) + parseInt((bill * tip)) ) / parseInt(number_of_people);


            const truncated_tip = newTip.toFixed(2);
            const truncated_total = newTotal.toFixed(2);

            if( !(bill == 0 || tip == 0 || number_of_people == 0 ) )
            {

              tip_amount.innerHTML = "$" + truncated_tip.toString();
              total.innerHTML = "$" + truncated_total.toString();
            }

          }
	      </script>

        <!--  <br> -->
        <br>
        <br>
        <!-- <br> -->

        <div class="button-container2">

          <button class="reset-button" >RESET</button>
          </div>

      </div>
    </div>
<!-- Bill

  Select Tip %
  5%
  10%
  15%
  25%
  50%
  Custom

  Number of People

  Tip Amount
  / person

  Total
  / person

  Reset -->

  </div>

</div>


  <footer>
    <div class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
      Coded by <a href="#">Muhammad Mahen Mughal</a>.
    </div>
  </footer>
</body>
</html>